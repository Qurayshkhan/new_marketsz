import{m as F,q as V,u as L,c as P,o as u,w as _,a as d,g as c,i as x,b as l,d as o,h as K,t as a,f as i,F as T,r as z,e as q,y as D}from"./app-wByYwQey.js";import G from"./Edit-DK6yqR9s.js";import{_ as S}from"./Modal-BWG6rHcy.js";import{_ as U}from"./PrimaryButton-D2K8pNfH.js";import{_ as $}from"./SecondaryButton-BoBgRReK.js";import{D as I}from"./DangerButton-CAN3bnvK.js";import{_ as n}from"./TextInput-BZESZU_S.js";import{_ as m}from"./InputError-CuezX2yb.js";import"./NavLink-zBMiMvXw.js";import"./AuthenticatedLayout-ClrPs3MA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const O={key:0,class:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded"},H={key:1,class:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded"},J={class:"mb-4 text-right"},Q={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},R={class:"absolute top-2 right-2 flex gap-2"},W=["onClick"],X=["onClick"],Y={class:"mb-4"},Z={class:"text-lg font-semibold text-gray-800"},ee={class:"text-sm text-gray-500"},se={class:"mt-2 text-gray-600"},te={key:0},le={class:"text-gray-600"},oe={class:"mt-1 text-gray-500"},de={class:"mt-2 space-x-2"},re={key:0,class:"text-xs text-white bg-blue-600 px-2 py-1 rounded-full"},ae={key:1,class:"text-xs text-white bg-green-600 px-2 py-1 rounded-full"},ne={class:"mt-auto pt-3 border-t"},ue=["onChange"],ie=["disabled"],me=["disabled"],_e=["disabled"],ce={key:1,class:"col-span-full text-center py-8"},pe={class:"p-6"},fe={class:"text-xl font-semibold mb-4 text-black"},ge={class:"grid grid-cols-2 gap-2"},ve={class:"mt-4 flex justify-end gap-2"},be={class:"p-6"},ye={class:"text-gray-600 mb-4"},xe={class:"flex justify-end gap-2"},Ee={__name:"AddressBook",props:{userAddresses:Object},setup(N){const g=N,p=F(),f=V(!1),v=V(!1),b=V(null),e=L({id:null,address_name:"",full_name:"",address_line_1:"",address_line_2:"",country:"",state:"",city:"",postal_code:"",country_code:"",phone_number:""}),k=()=>{e.reset(),e.clearErrors(),e.id=null},w=(r=null)=>{k(),r&&(e.id=r.id,e.address_name=r.address_name||"",e.full_name=r.full_name||"",e.address_line_1=r.address_line_1||"",e.address_line_2=r.address_line_2||"",e.country=r.country||"",e.state=r.state||"",e.city=r.city||"",e.postal_code=r.postal_code||"",e.country_code=r.country_code||"",e.phone_number=r.phone_number||""),f.value=!0},E=()=>{const r=e.id!==null,s=r?route("customer.addresses.update",{address:e.id}):route("customer.addresses.store");r?e.put(s,{preserveScroll:!0,onSuccess:()=>{f.value=!1,k()},onError:()=>{}}):e.post(s,{preserveScroll:!0,onSuccess:()=>{f.value=!1,k()},onError:()=>{}})},B=(r,s)=>{const y=r.target.value;y&&(e.clearErrors(),D.put(route("customer.addresses.setDefault",{address:s}),{type:y},{preserveScroll:!0,onSuccess:()=>{r.target.selectedIndex=0}}))},j=r=>{b.value=r,v.value=!0},M=()=>{b.value&&D.delete(route("customer.addresses.destroy",{address:b.value.id}),{preserveScroll:!0,onSuccess:()=>{v.value=!1,b.value=null}})};return(r,s)=>(u(),P(G,null,{default:_(()=>{var y,A,C;return[d(o(K),{title:"Address Book"}),(y=o(p).props.flash)!=null&&y.success?(u(),c("div",O,a(o(p).props.flash.success),1)):x("",!0),(A=o(p).props.flash)!=null&&A.error||(C=o(p).props.flash)!=null&&C.message?(u(),c("div",H,a(o(p).props.flash.error||o(p).props.flash.message),1)):x("",!0),l("div",J,[d(U,{onClick:s[0]||(s[0]=t=>w())},{default:_(()=>s[15]||(s[15]=[i(" + Add New Address ")])),_:1,__:[15]})]),l("div",Q,[g!=null&&g.userAddresses&&g.userAddresses.length>0?(u(!0),c(T,{key:0},z(g.userAddresses,t=>(u(),c("div",{key:t.id,class:"bg-white rounded-2xl shadow-md p-5 border relative flex flex-col justify-between hover:shadow-lg transition-shadow"},[l("div",R,[l("button",{onClick:h=>w(t),class:"text-blue-500 text-sm hover:underline",title:"Edit Address"}," Edit ",8,W),l("button",{onClick:h=>j(t),class:"text-red-500 text-sm hover:underline",title:"Delete Address"}," Delete ",8,X)]),l("div",Y,[l("h3",Z,a(t.full_name),1),l("p",ee,a(t.address_name),1),l("p",se,[i(a(t.address_line_1)+" ",1),t.address_line_2?(u(),c("br",te)):x("",!0),i(" "+a(t.address_line_2),1)]),l("p",le,[i(a(t.city)+a(t.state?", "+t.state:"")+" - "+a(t.postal_code)+" ",1),s[16]||(s[16]=l("br",null,null,-1)),i(" "+a(t.country),1)]),l("p",oe," Phone: "+a(t.country_code)+" "+a(t.phone_number),1),l("div",de,[t.is_default_us?(u(),c("span",re," Default US ")):x("",!0),t.is_default_uk?(u(),c("span",ae," Default UK ")):x("",!0)])]),l("div",ne,[l("select",{onChange:h=>B(h,t.id),class:"w-full px-3 py-2 rounded-md border text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},[s[17]||(s[17]=l("option",{disabled:"",selected:""}," Set as Default Address... ",-1)),l("option",{value:"us",disabled:t.is_default_us}," Default for US ",8,ie),l("option",{value:"uk",disabled:t.is_default_uk}," Default for UK ",8,me),l("option",{value:"both",disabled:t.is_default_us&&t.is_default_uk}," Default for US & UK ",8,_e)],40,ue)])]))),128)):(u(),c("div",ce,s[18]||(s[18]=[l("div",{class:"text-gray-500"},[l("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]),l("h3",{class:"mt-2 text-sm font-medium text-gray-900"}," No addresses "),l("p",{class:"mt-1 text-sm text-gray-500"}," Get started by creating a new address. ")],-1)])))]),d(S,{show:f.value,onClose:s[12]||(s[12]=t=>f.value=!1)},{default:_(()=>[l("div",pe,[l("h2",fe,a(o(e).id?"Edit Address":"Add New Address"),1),l("form",{onSubmit:q(E,["prevent"]),class:"grid gap-3"},[l("div",null,[d(n,{modelValue:o(e).address_name,"onUpdate:modelValue":s[1]||(s[1]=t=>o(e).address_name=t),placeholder:"Address Name *"},null,8,["modelValue"]),d(m,{class:"mt-2",message:o(e).errors.address_name},null,8,["message"])]),l("div",null,[d(n,{modelValue:o(e).full_name,"onUpdate:modelValue":s[2]||(s[2]=t=>o(e).full_name=t),placeholder:"Full Name *"},null,8,["modelValue"]),d(m,{class:"mt-2",message:o(e).errors.full_name},null,8,["message"])]),l("div",null,[d(n,{modelValue:o(e).address_line_1,"onUpdate:modelValue":s[3]||(s[3]=t=>o(e).address_line_1=t),placeholder:"Address Line 1 *"},null,8,["modelValue"]),d(m,{class:"mt-2",message:o(e).errors.address_line_1},null,8,["message"])]),l("div",null,[d(n,{modelValue:o(e).address_line_2,"onUpdate:modelValue":s[4]||(s[4]=t=>o(e).address_line_2=t),placeholder:"Address Line 2"},null,8,["modelValue"]),d(m,{class:"mt-2",message:o(e).errors.address_line_2},null,8,["message"])]),l("div",ge,[l("div",null,[d(n,{modelValue:o(e).country,"onUpdate:modelValue":s[5]||(s[5]=t=>o(e).country=t),placeholder:"Country *"},null,8,["modelValue"]),d(m,{class:"mt-2",message:o(e).errors.country},null,8,["message"])]),l("div",null,[d(n,{modelValue:o(e).state,"onUpdate:modelValue":s[6]||(s[6]=t=>o(e).state=t),placeholder:"State"},null,8,["modelValue"])]),l("div",null,[d(n,{modelValue:o(e).city,"onUpdate:modelValue":s[7]||(s[7]=t=>o(e).city=t),placeholder:"City *"},null,8,["modelValue"]),d(m,{class:"mt-2",message:o(e).errors.city},null,8,["message"])]),l("div",null,[d(n,{modelValue:o(e).postal_code,"onUpdate:modelValue":s[8]||(s[8]=t=>o(e).postal_code=t),placeholder:"Postal Code *"},null,8,["modelValue"]),d(m,{class:"mt-2",message:o(e).errors.postal_code},null,8,["message"])]),l("div",null,[d(n,{modelValue:o(e).country_code,"onUpdate:modelValue":s[9]||(s[9]=t=>o(e).country_code=t),placeholder:"Country Code *"},null,8,["modelValue"]),d(m,{class:"mt-2",message:o(e).errors.country_code},null,8,["message"])]),l("div",null,[d(n,{modelValue:o(e).phone_number,"onUpdate:modelValue":s[10]||(s[10]=t=>o(e).phone_number=t),placeholder:"Phone Number *"},null,8,["modelValue"]),d(m,{class:"mt-2",message:o(e).errors.phone_number},null,8,["message"])])]),l("div",ve,[d($,{type:"button",onClick:s[11]||(s[11]=t=>f.value=!1)},{default:_(()=>s[19]||(s[19]=[i(" Cancel ")])),_:1,__:[19]}),d(U,{type:"submit",disabled:o(e).processing,class:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50"},{default:_(()=>[i(a(o(e).processing?"Saving...":o(e).id?"Update":"Save"),1)]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"]),d(S,{show:v.value,onClose:s[14]||(s[14]=t=>v.value=!1)},{default:_(()=>{var t;return[l("div",be,[s[22]||(s[22]=l("h2",{class:"text-xl font-semibold mb-4 text-black"}," Delete Address ",-1)),l("p",ye,' Are you sure you want to delete the address "'+a((t=b.value)==null?void 0:t.address_name)+'"? This action cannot be undone. ',1),l("div",xe,[d($,{type:"button",onClick:s[13]||(s[13]=h=>v.value=!1)},{default:_(()=>s[20]||(s[20]=[i(" Cancel ")])),_:1,__:[20]}),d(I,{type:"button",onClick:M},{default:_(()=>s[21]||(s[21]=[i(" Delete Address ")])),_:1,__:[21]})])])]}),_:1},8,["show"])]}),_:1}))}};export{Ee as default};
