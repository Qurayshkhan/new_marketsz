import{D as h}from"./DangerButton-CAN3bnvK.js";import{_ as f}from"./SecondaryButton-BoBgRReK.js";import{_ as g}from"./Modal-BWG6rHcy.js";import{C as k,q as b,u as y,D as C,g as A,o as x,b as i,a as c,w as n,t as I,f as l}from"./app-wByYwQey.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:""},S={class:"p-6"},v={class:"text-center text-lg font-medium text-gray-900"},P={class:"flex mt-6 gap-4 justify-end"},j={__name:"Checkout",props:{ship:String,selectedShipMethod:[Number,Object],selectedPackingOption:[Array,Number],selectedShippingPreferenceOption:[Array,Number],checkoutAmount:Number,selectedCardId:Number,selectedAddressId:Number},setup(a){var u;const p=k(),e=a;console.log(e.selectedCardId,e==null?void 0:e.selectedAddressId);const r=b(!1),_=()=>{r.value=!0},d=()=>{r.value=!1},o=y({id:((u=e.ship)==null?void 0:u.id)||"",international_shipping_option_id:e.selectedShipMethod||"",packing_option_id:e.selectedPackingOption||"",shipping_preference_option_id:e.selectedShippingPreferenceOption||"",estimated_shipping_charges:e.checkoutAmount||0,subtotal:e.checkoutAmount||0,card_id:e.selectedCardId||null,user_address_id:e.selectedAddressId||null}),m=t=>{if(t.preventDefault(),console.log(o.card_id),!o.card_id){p.error("Please select your card.");return}if(!o.user_address_id){p.error("Please select your address.");return}o.post(route("customer.ship.checkout"),{onFinish:()=>{d()}})};return C(()=>{var t;return{shipId:(t=e.ship)==null?void 0:t.id,method:e.selectedShipMethod,packing:e.selectedPackingOption,preference:e.selectedShippingPreferenceOption,amount:e.checkoutAmount,card:e.selectedCardId,address:e.selectedAddressId}},t=>{o.id=t.shipId||"",o.international_shipping_option_id=t.method||"",o.packing_option_id=t.packing||"",o.shipping_preference_option_id=t.preference||"",o.estimated_shipping_charges=t.amount||0,o.subtotal=t.amount||0,o.card_id=t.card||null,o.user_address_id=t.address||null},{deep:!0,immediate:!0}),(t,s)=>(x(),A("div",N,[i("button",{onClick:_,class:"bg-primary-500 text-white w-full py-2 px-4 hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-opacity-50"}," Ship Now "),c(g,{show:r.value,onClose:d},{default:n(()=>[i("div",S,[i("h2",v," Your credit card will be charged $"+I(a.checkoutAmount)+" for this transaction. ",1),i("div",P,[c(f,{onClick:d},{default:n(()=>s[0]||(s[0]=[l("Cancel")])),_:1,__:[0]}),c(h,{onClick:m},{default:n(()=>s[1]||(s[1]=[l("Submit")])),_:1,__:[1]})])])]),_:1},8,["show"])]))}};export{j as default};
