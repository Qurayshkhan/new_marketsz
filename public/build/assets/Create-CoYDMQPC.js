import{_ as E}from"./AuthenticatedLayout-D30zGnqR.js";import M from"./CreditCard-VSHYxlYU.js";import F from"./ShipAddress-8zZ0q6W7.js";import H from"./Delete-jCBprknN.js";import{_ as I}from"./Radiobox-vyJ96yAH.js";import{_ as T}from"./Checkbox-CmpQdYF1.js";import{C as K,H as U,q as x,I as J,c as W,o as r,w as L,a as m,b as t,t as o,g as i,i as h,F as v,r as c,n as q,f as _,J as z}from"./app-sdt_NX4R.js";import"./Modal-DgwflGUX.js";import"./stripe.esm-Vr-Q6Y1S.js";import"./PrimaryButton-FdPO_fWN.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TextInput-ChBOYHG2.js";import"./InputLabel-Cx2KGH1y.js";import"./InputError-Bbpkn20Y.js";import"./SecondaryButton-CPX_Umkr.js";import"./DangerButton-BNNzmZ5Y.js";const R={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-4"},Y={class:"lg:col-span-2"},G={class:"mb-4 text-end"},Q={class:"w-60 ml-auto"},X={class:"flex flex-col items-center justify-between text-gray-700 mb-2"},Z={class:"mt-4 overflow-x-auto"},O={class:"min-w-full bg-white rounded-lg shadow"},k={class:"min-w-full divide-y divide-gray-200 border text-center"},P={key:0,class:"bg-white divide-y divide-gray-200"},tt={class:"hover:bg-gray-100"},lt={class:"px-6 py-4 whitespace-nowrap border"},st=["onClick"],et={class:"px-6 py-4 whitespace-nowrap border"},ot={class:"text-sm text-gray-900"},nt={class:"text-sm text-gray-500"},rt={class:"px-6 py-4 whitespace-nowrap border"},it={class:"text-sm text-gray-900"},dt={class:"px-6 py-4 whitespace-nowrap border"},ut={class:"text-sm text-gray-900"},at={class:"px-6 py-4 whitespace-nowrap border text-center"},mt={key:0},_t={colspan:"5",class:"px-6 py-4 bg-gray-50"},bt={class:"p-4 rounded-lg"},xt={class:"bg-primary-500 text-white text-center uppercase"},vt={class:"lg:col-span-1"},ft={class:"bg-white rounded-lg shadow p-4"},yt={class:"mb-4"},ct={class:"flex items-center justify-between mb-4"},wt={class:"text-gray-600"},gt=["for"],$t={class:"ml-2"},St={class:"mb-4"},jt=["for"],Ct={class:"ml-2"},Vt={class:"mb-4"},Nt=["for"],At={class:"ml-2"},Dt={class:"bg-white rounded-2xl shadow-lg p-6 w-full max-w-md mx-auto"},Tt={class:"border-b pb-4 mb-4"},ht={class:"flex items-center justify-between text-base font-semibold text-gray-700 mb-3"},pt={class:"text-gray-800"},Bt={class:"text-center mb-4"},Et={class:"text-2xl font-bold text-primary-600"},Ot={__name:"Create",props:{ship:Object,cards:Object,publishableKey:String,userAddresses:Object,internationalShippingMethod:Object,packingOptions:Object,userPreferences:Object,shippingPreferenceOptions:Object},setup(S){var V,N,A,D;const e=S,j=K(),f=U({}),w=x(Number(((V=e==null?void 0:e.userPreferences)==null?void 0:V.international_shipping_option)??0)),g=x(JSON.parse((N=e==null?void 0:e.userPreferences)==null?void 0:N.packing_option)??[]),$=x(JSON.parse((A=e==null?void 0:e.userPreferences)==null?void 0:A.shipping_preference_option)??[]),b=x(((D=e==null?void 0:e.ship)==null?void 0:D.handling_fee)||0),C=x(0);function p(d){f[d]=!f[d]}const B=()=>{var s,y;b.value=((s=e==null?void 0:e.ship)==null?void 0:s.handling_fee)||0;const d={shipMethod:w.value,packingOption:g.value,shippingPreferenceOption:$.value,shipWeight:((y=e.ship)==null?void 0:y.total_weight)||0};z.post(route("customer.shipment.calculateShippingCost"),d).then(u=>{console.log("Shipping cost calculated:",u.data);const{data:n,success:l}=u.data;l?n!=null&&n.international_shipping_amount&&(b.value+=n==null?void 0:n.international_shipping_amount,C.value=n==null?void 0:n.international_shipping_amount):j.error(u.data.message||"Error calculating shipping cost")}).catch(u=>{var n,l;j.error(((l=(n=u.response)==null?void 0:n.data)==null?void 0:l.message)||"An error occurred while calculating shipping cost")})};return(d,s)=>{const y=J("Head");return r(),W(E,null,{default:L(()=>{var u,n;return[m(y,{title:"Shipment"}),s[26]||(s[26]=t("h1",{class:"text-2xl"},"Checkout",-1)),t("div",R,[t("div",Y,[t("div",G,[t("div",Q,[t("p",X," Estimated shipping cost: $"+o(b.value),1),t("button",{class:"w-full bg-primary-500 text-white py-2 px-4 hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-opacity-50 rounded-lg",onClick:B}," Update Shipping Cost ")])]),m(M,{cards:e==null?void 0:e.cards,publishableKey:S.publishableKey},null,8,["cards","publishableKey"]),m(F,{userAddresses:e==null?void 0:e.userAddresses},null,8,["userAddresses"]),t("div",Z,[t("div",O,[t("table",k,[s[12]||(s[12]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border"}," View "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border"}," Tracking Number "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border"}," Total Price "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border"}," Total Weight "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border"}," Remove ")])],-1)),e!=null&&e.ship?(r(),i("tbody",P,[(r(!0),i(v,null,c(e.ship.packages,l=>{var a;return r(),i(v,{key:l==null?void 0:l.id},[t("tr",tt,[t("td",lt,[t("button",{onClick:Mt=>p(l.id)},[t("i",{class:q(["fas",f[l.id]?"fa-chevron-down":"fa-chevron-right","text-primary-500"])},null,2)],8,st)]),t("td",et,[t("div",ot,o(l==null?void 0:l.from),1),t("div",nt,o(l==null?void 0:l.tracking_id),1)]),t("td",rt,[t("div",it," $"+o(l==null?void 0:l.total_value),1)]),t("td",dt,[t("div",ut,o(l==null?void 0:l.weight)+" lbs ",1)]),t("td",at,[m(H,{id:(a=e==null?void 0:e.ship)==null?void 0:a.id,packageId:l==null?void 0:l.id},null,8,["id","packageId"])])]),f[l.id]?(r(),i("tr",mt,[t("td",_t,[t("div",bt,[s[7]||(s[7]=t("h4",{class:"text-lg font-semibold mb-2"}," Package Details ",-1)),t("p",null,[s[3]||(s[3]=t("strong",null,"From:",-1)),_(" "+o(l==null?void 0:l.from),1)]),t("p",null,[s[4]||(s[4]=t("strong",null,"Tracking Number:",-1)),_(" "+o(l==null?void 0:l.tracking_id),1)]),t("p",null,[s[5]||(s[5]=t("strong",null,"Value:",-1)),_(" $"+o(l==null?void 0:l.total_value),1)]),t("p",null,[s[6]||(s[6]=t("strong",null,"Weight:",-1)),_(" "+o(l==null?void 0:l.weight)+" lbs ",1)])])])])):h("",!0)],64)}),128)),t("tr",xt,[s[9]||(s[9]=t("td",null,null,-1)),s[10]||(s[10]=t("td",{class:"px-6 py-4"},[t("strong",null,"Shipment Totals ")],-1)),t("td",null,o(d.__to_fixed_number((u=e==null?void 0:e.ship)==null?void 0:u.total_price)),1),t("td",null,[_(o(d.__to_fixed_number((n=e==null?void 0:e.ship)==null?void 0:n.total_weight))+" ",1),s[8]||(s[8]=t("span",{class:"lowercase"},"lbs",-1))]),s[11]||(s[11]=t("td",null,null,-1))])])):h("",!0)])])])]),t("div",vt,[t("div",ft,[s[22]||(s[22]=t("h2",{class:"text-xl font-semibold mb-2"}," Shipment Details & Options ",-1)),t("div",yt,[t("div",ct,[s[13]||(s[13]=t("h3",null,"Shipment Method",-1)),t("p",wt," $"+o(C.value),1)]),t("div",null,[t("ul",null,[(r(!0),i(v,null,c(e.internationalShippingMethod,l=>(r(),i("li",{key:l.id},[t("div",null,[t("label",{for:`international_${l==null?void 0:l.id}`},[m(I,{name:"shipping_method",modelValue:w.value,"onUpdate:modelValue":s[0]||(s[0]=a=>w.value=a),value:Number(l==null?void 0:l.id),id:`international_${l==null?void 0:l.id}`},null,8,["modelValue","value","id"]),t("span",$t,o(l==null?void 0:l.title),1)],8,gt)])]))),128))])])]),t("div",St,[s[14]||(s[14]=t("div",{class:"flex items-center justify-between mb-4"},[t("h3",null,"Packing Option"),t("p",{class:"text-gray-600"},"$0.00")],-1)),s[15]||(s[15]=t("div",null,[t("p",{class:"text-gray-600 mb-2"}," (Based on 8lbs weight) ")],-1)),t("div",null,[t("ul",null,[(r(!0),i(v,null,c(e==null?void 0:e.packingOptions,l=>(r(),i("li",{key:l==null?void 0:l.id},[t("div",null,[t("label",{for:`packing_option_${l==null?void 0:l.id}`},[m(T,{name:"packing_option",modelValue:g.value,"onUpdate:modelValue":s[1]||(s[1]=a=>g.value=a),value:Number(l==null?void 0:l.id),id:`packing_option_${l==null?void 0:l.id}`},null,8,["modelValue","value","id"]),t("span",Ct,o(l==null?void 0:l.title),1)],8,jt)])]))),128))])])]),t("div",Vt,[s[16]||(s[16]=t("div",{class:"flex items-center justify-between mb-4"},[t("h3",null,"Shipping Preferences"),t("p",{class:"text-gray-600"},"$0.00")],-1)),t("div",null,[t("ul",null,[(r(!0),i(v,null,c(e==null?void 0:e.shippingPreferenceOptions,l=>(r(),i("li",{key:l==null?void 0:l.id},[t("div",null,[t("label",{for:`shipping_preference_options${l==null?void 0:l.id}`},[m(T,{name:"shipping_preference_option",modelValue:$.value,"onUpdate:modelValue":s[2]||(s[2]=a=>$.value=a),value:Number(l==null?void 0:l.id),id:`shipping_preference_option${l==null?void 0:l.id}`},null,8,["modelValue","value","id"]),t("span",At,o(l==null?void 0:l.title),1)],8,Nt)])]))),128))])])]),s[23]||(s[23]=t("div",{class:"mb-4"},[t("div",{class:"flex items-center justify-between mb-4"},[t("h3",null,"Export Documentation"),t("p",{class:"text-gray-600"},"$0.00")]),t("div",null,[t("ul",null,[t("li",null,[t("div",null,[t("p",null,[_(" National ID: "),t("a",{href:"#",class:"text-primary-500"},"Add")])])])])])],-1)),s[24]||(s[24]=t("div",{class:"mb-4"},[t("div",{class:"flex items-center justify-between mb-4"},[t("h3",null,"Handling Fee"),t("p",{class:"text-gray-600"},"$10.00")])],-1)),s[25]||(s[25]=t("hr",null,null,-1)),t("div",Dt,[t("div",Tt,[t("div",ht,[s[17]||(s[17]=t("h3",null,"Subtotal",-1)),t("p",pt," $"+o(d.__to_fixed_number(b.value)),1)]),s[18]||(s[18]=t("div",{class:"flex items-center justify-between text-sm text-gray-600"},[t("p",null,"Package Level Charges"),t("p",null,"$0.00")],-1))]),t("div",Bt,[s[19]||(s[19]=t("h3",{class:"text-lg font-medium text-gray-800"}," Estimated Shipping Charges ",-1)),t("p",Et," $"+o(d.__to_fixed_number(b.value)),1)]),s[20]||(s[20]=t("div",{class:"text-sm text-gray-600 mb-4 text-center"}," Your selected card will be used for this transaction. ",-1)),s[21]||(s[21]=t("div",{class:"text-center"},[t("button",{class:"bg-primary-500 text-white w-full py-2 px-4 hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-opacity-50"}," Ship Now ")],-1))])])])])]}),_:1,__:[26]})}}};export{Ot as default};
