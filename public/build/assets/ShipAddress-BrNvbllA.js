import{m as C,q as i,D as $,u as N,g,o as v,b as t,a as n,w as _,f as y,F as V,r as k,t as d,d as s,e as E}from"./app-CQxJLMzg.js";import{_ as r}from"./InputError-BWkLCGr-.js";import{_ as F}from"./Modal-CAXz7Zd0.js";import{_ as b}from"./PrimaryButton-BLacPdZr.js";import{_ as j}from"./Radiobox-Cl-5JuNW.js";import{_ as B}from"./SecondaryButton-B47n-YQq.js";import{_ as u}from"./TextInput-CSg8Sx1b.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"mb-4 flex justify-between items-center"},M={class:"flex items-start gap-4"},P=["for"],D={class:"flex flex-col"},q={class:""},O={class:"text-gray-900"},T={class:"text-gray-900"},z={class:"text-gray-900"},G={class:"p-6"},H={class:"text-xl font-semibold mb-4 text-black"},I={class:"grid grid-cols-2 gap-2"},J={class:"mt-4 flex justify-end gap-2"},le={__name:"ShipAddress",props:{userAddresses:Object},emits:["setSelectedAddress"],setup(x,{emit:A}){const p=x;C();const w=A,m=i(!1);i(!1),i(null);const c=i(null);$(c,a=>{w("setSelectedAddress",a)});const e=N({id:null,address_name:"",full_name:"",address_line_1:"",address_line_2:"",country:"",state:"",city:"",postal_code:"",country_code:"",phone_number:""}),f=()=>{e.reset(),e.clearErrors(),e.id=null},S=(a=null)=>{f(),a&&(e.id=a.id,e.address_name=a.address_name||"",e.full_name=a.full_name||"",e.address_line_1=a.address_line_1||"",e.address_line_2=a.address_line_2||"",e.country=a.country||"",e.state=a.state||"",e.city=a.city||"",e.postal_code=a.postal_code||"",e.country_code=a.country_code||"",e.phone_number=a.phone_number||""),m.value=!0},U=()=>{const a=e.id!==null,o=a?route("customer.addresses.update",{address:e.id}):route("customer.addresses.store");a?e.put(o,{preserveScroll:!0,onSuccess:()=>{m.value=!1,f()},onError:()=>{}}):e.post(o,{preserveScroll:!0,onSuccess:()=>{m.value=!1,f()},onError:()=>{}})};return(a,o)=>(v(),g(V,null,[t("div",L,[o[15]||(o[15]=t("div",null,[t("p",null,"Shipping Address"),t("p",null,"Chose your address for shipping")],-1)),n(b,{onClick:o[0]||(o[0]=l=>S())},{default:_(()=>o[14]||(o[14]=[y(" + Add New Address ")])),_:1,__:[14]})]),t("div",null,[t("ul",null,[(v(!0),g(V,null,k(p==null?void 0:p.userAddresses,l=>(v(),g("li",{key:l.id,class:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow transition mb-4"},[t("div",M,[n(j,{name:"user_address_id",modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=h=>c.value=h),value:l.id,id:l.id},null,8,["modelValue","value","id"]),t("label",{for:l.id,class:"cursor-pointer"},[t("div",D,[t("div",q,[t("p",O,d(l==null?void 0:l.full_name),1),t("p",T,d(l==null?void 0:l.address_line_1),1),t("p",z,d(l==null?void 0:l.country)+" "+d(l!=null&&l.state?`, ${l==null?void 0:l.state}`:"")+" "+d(l!=null&&l.city?`, ${l==null?void 0:l.city}`:""),1)]),o[16]||(o[16]=t("p",{class:"text-sm text-gray-500"},null,-1))])],8,P)])]))),128))])]),n(F,{show:m.value,onClose:o[13]||(o[13]=l=>m.value=!1)},{default:_(()=>[t("div",G,[t("h2",H,d(s(e).id?"Edit Address":"Add New Address"),1),t("form",{onSubmit:E(U,["prevent"]),class:"grid gap-3"},[t("div",null,[n(u,{modelValue:s(e).address_name,"onUpdate:modelValue":o[2]||(o[2]=l=>s(e).address_name=l),placeholder:"Address Name *"},null,8,["modelValue"]),n(r,{class:"mt-2",message:s(e).errors.address_name},null,8,["message"])]),t("div",null,[n(u,{modelValue:s(e).full_name,"onUpdate:modelValue":o[3]||(o[3]=l=>s(e).full_name=l),placeholder:"Full Name *"},null,8,["modelValue"]),n(r,{class:"mt-2",message:s(e).errors.full_name},null,8,["message"])]),t("div",null,[n(u,{modelValue:s(e).address_line_1,"onUpdate:modelValue":o[4]||(o[4]=l=>s(e).address_line_1=l),placeholder:"Address Line 1 *"},null,8,["modelValue"]),n(r,{class:"mt-2",message:s(e).errors.address_line_1},null,8,["message"])]),t("div",null,[n(u,{modelValue:s(e).address_line_2,"onUpdate:modelValue":o[5]||(o[5]=l=>s(e).address_line_2=l),placeholder:"Address Line 2"},null,8,["modelValue"]),n(r,{class:"mt-2",message:s(e).errors.address_line_2},null,8,["message"])]),t("div",I,[t("div",null,[n(u,{modelValue:s(e).country,"onUpdate:modelValue":o[6]||(o[6]=l=>s(e).country=l),placeholder:"Country *"},null,8,["modelValue"]),n(r,{class:"mt-2",message:s(e).errors.country},null,8,["message"])]),t("div",null,[n(u,{modelValue:s(e).state,"onUpdate:modelValue":o[7]||(o[7]=l=>s(e).state=l),placeholder:"State"},null,8,["modelValue"])]),t("div",null,[n(u,{modelValue:s(e).city,"onUpdate:modelValue":o[8]||(o[8]=l=>s(e).city=l),placeholder:"City *"},null,8,["modelValue"]),n(r,{class:"mt-2",message:s(e).errors.city},null,8,["message"])]),t("div",null,[n(u,{modelValue:s(e).postal_code,"onUpdate:modelValue":o[9]||(o[9]=l=>s(e).postal_code=l),placeholder:"Postal Code *"},null,8,["modelValue"]),n(r,{class:"mt-2",message:s(e).errors.postal_code},null,8,["message"])]),t("div",null,[n(u,{modelValue:s(e).country_code,"onUpdate:modelValue":o[10]||(o[10]=l=>s(e).country_code=l),placeholder:"Country Code *"},null,8,["modelValue"]),n(r,{class:"mt-2",message:s(e).errors.country_code},null,8,["message"])]),t("div",null,[n(u,{modelValue:s(e).phone_number,"onUpdate:modelValue":o[11]||(o[11]=l=>s(e).phone_number=l),placeholder:"Phone Number *"},null,8,["modelValue"]),n(r,{class:"mt-2",message:s(e).errors.phone_number},null,8,["message"])])]),t("div",J,[n(B,{type:"button",onClick:o[12]||(o[12]=l=>m.value=!1)},{default:_(()=>o[17]||(o[17]=[y(" Cancel ")])),_:1,__:[17]}),n(b,{type:"submit",disabled:s(e).processing,class:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50"},{default:_(()=>[y(d(s(e).processing?"Saving...":s(e).id?"Update":"Save"),1)]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"])],64))}};export{le as default};
